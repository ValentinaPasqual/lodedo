(window.webpackJsonp=window.webpackJsonp||[]).push([[19,35],{256:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},257:function(t,e){(function(e){t.exports=e}).call(this,{})},268:function(t,e){
/*! ngTagsInput v3.2.0 License: MIT */!function(){"use strict";var t=8,e=9,i=13,n=27,s=32,o=38,a=40,r=37,l=39,h=46,u=188,c=9007199254740991,p=["text","email","url"],d=angular.module("ngTagsInput",[]);d.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(e,n,o,a,d,g){function f(t,e,i,n){var s,o,r,l,h={};return s=function(e){return g.safeToString(e[t.displayProperty])},o=function(e,i){e[t.displayProperty]=i},r=function(e){var n=s(e),o=n&&n.length>=t.minLength&&n.length<=t.maxLength&&t.allowedTagsPattern.test(n)&&!g.findInObjectArray(h.items,e,t.keyProperty||t.displayProperty);return a.when(o&&i({$tag:e})).then(g.promisifyValue)},l=function(t){return a.when(n({$tag:t})).then(g.promisifyValue)},h.items=[],h.addText=function(t){var e={};return o(e,t),h.add(e)},h.add=function(i){var n=s(i);return t.replaceSpacesWithDashes&&(n=g.replaceSpacesWithDashes(n)),o(i,n),r(i).then((function(){h.items.push(i),e.trigger("tag-added",{$tag:i})})).catch((function(){n&&e.trigger("invalid-tag",{$tag:i})}))},h.remove=function(t){var i=h.items[t];return l(i).then((function(){return h.items.splice(t,1),h.clearSelection(),e.trigger("tag-removed",{$tag:i}),i}))},h.select=function(t){0>t?t=h.items.length-1:t>=h.items.length&&(t=0),h.index=t,h.selected=h.items[t]},h.selectPrior=function(){h.select(--h.index)},h.selectNext=function(){h.select(++h.index)},h.removeSelected=function(){return h.remove(h.index)},h.clearSelection=function(){h.selected=null,h.index=-1},h.getItems=function(){return t.useStrings?h.items.map(s):h.items},h.clearSelection(),h}function m(t){return-1!==p.indexOf(t)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(t,e,i){t.events=g.simplePubSub(),d.load("tagsInput",t,e,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",m],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,c],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,c],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0],useStrings:[Boolean,!1]}),t.tagList=new f(t.options,t.events,g.handleUndefinedResult(t.onTagAdding,!0),g.handleUndefinedResult(t.onTagRemoving,!0)),this.registerAutocomplete=function(){return i.find("input"),{addTag:function(e){return t.tagList.add(e)},getTags:function(){return t.tagList.items},getCurrentTagText:function(){return t.newTag.text()},getOptions:function(){return t.options},getTemplateScope:function(){return t.templateScope},on:function(e,i){return t.events.on(e,i,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return t.options},removeTag:function(e){t.disabled||t.tagList.remove(e)}}}}],link:function(a,c,p,d){var f,m,b=[i,u,s,t,h,r,l],v=a.tagList,y=a.events,x=a.options,w=c.find("input"),T=["minTags","maxTags","allowLeftoverText"];f=function(){d.$setValidity("maxTags",v.items.length<=x.maxTags),d.$setValidity("minTags",v.items.length>=x.minTags),d.$setValidity("leftoverText",!(!a.hasFocus&&!x.allowLeftoverText)||!a.newTag.text())},m=function(){e((function(){w[0].focus()}))},d.$isEmpty=function(t){return!t||!t.length},a.newTag={text:function(t){return angular.isDefined(t)?(a.text=t,void y.trigger("input-change",t)):a.text||""},invalid:null},a.track=function(t){return t[x.keyProperty||x.displayProperty]},a.getTagClass=function(t,e){var i=t===v.selected;return[a.tagClass({$tag:t,$index:e,$selected:i}),{selected:i}]},a.$watch("tags",(function(t){if(t){if(v.items=g.makeObjectArray(t,x.displayProperty),x.useStrings)return;a.tags=v.items}else v.items=[]})),a.$watch("tags.length",(function(){f(),d.$validate()})),p.$observe("disabled",(function(t){a.disabled=t})),a.eventHandlers={input:{keydown:function(t){y.trigger("input-keydown",t)},focus:function(){a.hasFocus||(a.hasFocus=!0,y.trigger("input-focus"))},blur:function(){e((function(){var t=n.prop("activeElement"),e=t===w[0],i=c[0].contains(t);(e||!i)&&(a.hasFocus=!1,y.trigger("input-blur"))}))},paste:function(t){t.getTextData=function(){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return e?e.getData("text/plain"):o.clipboardData.getData("Text")},y.trigger("input-paste",t)}},host:{click:function(){a.disabled||m()}},tag:{click:function(t){y.trigger("tag-clicked",{$tag:t})}}},y.on("tag-added",a.onTagAdded).on("invalid-tag",a.onInvalidTag).on("tag-removed",a.onTagRemoved).on("tag-clicked",a.onTagClicked).on("tag-added",(function(){a.newTag.text("")})).on("tag-added tag-removed",(function(){a.tags=v.getItems(),d.$setDirty(),m()})).on("invalid-tag",(function(){a.newTag.invalid=!0})).on("option-change",(function(t){-1!==T.indexOf(t.name)&&f()})).on("input-change",(function(){v.clearSelection(),a.newTag.invalid=null})).on("input-focus",(function(){c.triggerHandler("focus"),d.$setValidity("leftoverText",!0)})).on("input-blur",(function(){x.addOnBlur&&!x.addFromAutocompleteOnly&&v.addText(a.newTag.text()),c.triggerHandler("blur"),f()})).on("input-keydown",(function(e){var n,o,c,p,d=e.keyCode,f={};g.isModifierOn(e)||-1===b.indexOf(d)||(f[i]=x.addOnEnter,f[u]=x.addOnComma,f[s]=x.addOnSpace,n=!x.addFromAutocompleteOnly&&f[d],o=(d===t||d===h)&&v.selected,p=d===t&&0===a.newTag.text().length&&x.enableEditingLastTag,c=(d===t||d===r||d===l)&&0===a.newTag.text().length&&!x.enableEditingLastTag,n?v.addText(a.newTag.text()):p?(v.selectPrior(),v.removeSelected().then((function(t){t&&a.newTag.text(t[x.displayProperty])}))):o?v.removeSelected():c&&(d===r||d===t?v.selectPrior():d===l&&v.selectNext()),(n||c||o||p)&&e.preventDefault())})).on("input-paste",(function(t){if(x.addOnPaste){var e=t.getTextData().split(x.pasteSplitPattern);e.length>1&&(e.forEach((function(t){v.addText(t)})),t.preventDefault())}}))}}}]),d.directive("tiTagItem",["tiUtil",function(t){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(e,i,n,s){var o=s.registerTagItem(),a=o.getOptions();e.$$template=a.template,e.$$removeTagSymbol=a.removeTagSymbol,e.$getDisplayText=function(){return t.safeToString(e.data[a.displayProperty])},e.$removeTag=function(){o.removeTag(e.$index)},e.$watch("$parent.$index",(function(t){e.$index=t}))}}}]),d.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,s,r,l,h,u){function c(t,e,i){var n,s,o,a={};return o=function(){return e.tagsInput.keyProperty||e.tagsInput.displayProperty},n=function(t,i){return t.filter((function(t){return!u.findInObjectArray(i,t,o(),(function(t,i){return e.tagsInput.replaceSpacesWithDashes&&(t=u.replaceSpacesWithDashes(t),i=u.replaceSpacesWithDashes(i)),u.defaultComparer(t,i)}))}))},a.reset=function(){s=null,a.items=[],a.visible=!1,a.index=-1,a.selected=null,a.query=null},a.show=function(){e.selectFirstMatch?a.select(0):a.selected=null,a.visible=!0},a.load=u.debounce((function(i,r){a.query=i;var h=l.when(t({$query:i}));s=h,h.then((function(t){h===s&&(t=u.makeObjectArray(t.data||t,o()),t=n(t,r),a.items=t.slice(0,e.maxResultsToShow),a.items.length>0?a.show():a.reset())}))}),e.debounceDelay),a.selectNext=function(){a.select(++a.index)},a.selectPrior=function(){a.select(--a.index)},a.select=function(t){0>t?t=a.items.length-1:t>=a.items.length&&(t=0),a.index=t,a.selected=a.items[t],i.trigger("suggestion-selected",t)},a.reset(),a}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(t,e,i){t.events=u.simplePubSub(),h.load("autoComplete",t,i,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),t.suggestionList=new c(t.source,t.options,t.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return t.options},getQuery:function(){return t.suggestionList.query}}}}],link:function(t,s,r,l){var h,c=[i,e,n,o,a],p=t.suggestionList,d=l.registerAutocomplete(),g=t.options,f=t.events;g.tagsInput=d.getOptions(),h=function(t){return t&&t.length>=g.minLength||!t&&g.loadOnEmpty},t.templateScope=d.getTemplateScope(),t.addSuggestionByIndex=function(e){p.select(e),t.addSuggestion()},t.addSuggestion=function(){var t=!1;return p.selected&&(d.addTag(angular.copy(p.selected)),p.reset(),t=!0),t},t.track=function(t){return t[g.tagsInput.keyProperty||g.tagsInput.displayProperty]},t.getSuggestionClass=function(e,i){var n=e===p.selected;return[t.matchClass({$match:e,$index:i,$selected:n}),{selected:n}]},d.on("tag-added tag-removed invalid-tag input-blur",(function(){p.reset()})).on("input-change",(function(t){h(t)?p.load(t,d.getTags()):p.reset()})).on("input-focus",(function(){var t=d.getCurrentTagText();g.loadOnFocus&&h(t)&&p.load(t,d.getTags())})).on("input-keydown",(function(s){var r=s.keyCode,l=!1;if(!u.isModifierOn(s)&&-1!==c.indexOf(r))return p.visible?r===a?(p.selectNext(),l=!0):r===o?(p.selectPrior(),l=!0):r===n?(p.reset(),l=!0):(r===i||r===e)&&(l=t.addSuggestion()):r===a&&t.options.loadOnDownArrow&&(p.load(d.getCurrentTagText(),d.getTags()),l=!0),l?(s.preventDefault(),s.stopImmediatePropagation(),!1):void 0})),f.on("suggestion-selected",(function(t){!function(t,e){var i=t.find("li").eq(e),n=i.parent(),s=i.prop("offsetTop"),o=i.prop("offsetHeight"),a=n.prop("clientHeight"),r=n.prop("scrollTop");r>s?n.prop("scrollTop",s):s+o>a+r&&n.prop("scrollTop",s+o-a)}(s,t)}))}}}]),d.directive("tiAutocompleteMatch",["$sce","tiUtil",function(t,e){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(i,n,s,o){var a=o.registerAutocompleteMatch(),r=a.getOptions();i.$$template=r.template,i.$index=i.$parent.$index,i.$highlight=function(i){return r.highlightMatchedText&&(i=e.safeHighlight(i,a.getQuery())),t.trustAsHtml(i)},i.$getDisplayText=function(){return e.safeToString(i.data[r.displayProperty||r.tagsInput.displayProperty])}}}}]),d.directive("tiTranscludeAppend",(function(){return function(t,e,i,n,s){s((function(t){e.append(t)}))}})),d.directive("tiAutosize",["tagsInputConfig",function(t){return{restrict:"A",require:"ngModel",link:function(e,i,n,s){var o,a,r=t.getTextAutosizeThreshold();(o=angular.element('<span class="input"></span>')).css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),i.parent().append(o),a=function(t){var e,s=t;return angular.isString(s)&&0===s.length&&(s=n.placeholder),s&&(o.text(s),o.css("display",""),e=o.prop("offsetWidth"),o.css("display","none")),i.css("width",e?e+r+"px":""),t},s.$parsers.unshift(a),s.$formatters.unshift(a),n.$observe("placeholder",(function(t){s.$modelValue||a(t)}))}}}]),d.directive("tiBindAttrs",(function(){return function(t,e,i){t.$watch(i.tiBindAttrs,(function(t){angular.forEach(t,(function(t,e){i.$set(e,t)}))}),!0)}})),d.provider("tagsInputConfig",(function(){var t={},e={},i=3;this.setDefaults=function(e,i){return t[e]=i,this},this.setActiveInterpolation=function(t,i){return e[t]=i,this},this.setTextAutosizeThreshold=function(t){return i=t,this},this.$get=["$interpolate",function(n){var s={};return s[String]=function(t){return t},s[Number]=function(t){return parseInt(t,10)},s[Boolean]=function(t){return"true"===t.toLowerCase()},s[RegExp]=function(t){return new RegExp(t)},{load:function(i,o,a,r){var l=function(){return!0};o.options={},angular.forEach(r,(function(r,h){var u,c,p,d,g,f;u=r[0],c=r[1],p=r[2]||l,d=s[u],g=function(){var e=t[i]&&t[i][h];return angular.isDefined(e)?e:c},f=function(t){o.options[h]=t&&p(t)?d(t):g()},e[i]&&e[i][h]?a.$observe(h,(function(t){f(t),o.events.trigger("option-change",{name:h,newValue:t})})):f(a[h]&&n(a[h])(o.$parent))}))},getTextAutosizeThreshold:function(){return i}}}]})),d.factory("tiUtil",["$timeout","$q",function(t,e){var i={debounce:function(e,i){var n;return function(){var s=arguments;t.cancel(n),n=t((function(){e.apply(null,s)}),i)}},makeObjectArray:function(t,e){if(!angular.isArray(t)||0===t.length||angular.isObject(t[0]))return t;var i=[];return t.forEach((function(t){var n={};n[e]=t,i.push(n)})),i},findInObjectArray:function(t,e,n,s){var o=null;return s=s||i.defaultComparer,t.some((function(t){return s(t[n],e[n])?(o=t,!0):void 0})),o},defaultComparer:function(t,e){return i.safeToString(t).toLowerCase()===i.safeToString(e).toLowerCase()},safeHighlight:function(t,e){if(t=i.encodeHTML(t),!(e=i.encodeHTML(e)))return t;var n=new RegExp("&[^;]+;|"+function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(e),"gi");return t.replace(n,(function(t){return t.toLowerCase()===e.toLowerCase()?"<em>"+t+"</em>":t}))},safeToString:function(t){return angular.isUndefined(t)||null==t?"":t.toString().trim()},encodeHTML:function(t){return i.safeToString(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},handleUndefinedResult:function(t,e){return function(){var i=t.apply(null,arguments);return angular.isUndefined(i)?e:i}},replaceSpacesWithDashes:function(t){return i.safeToString(t).replace(/\s/g,"-")},isModifierOn:function(t){return t.shiftKey||t.ctrlKey||t.altKey||t.metaKey},promisifyValue:function(t){return t=!!angular.isUndefined(t)||t,e[t?"when":"reject"]()},simplePubSub:function(){var t={};return{on:function(e,i,n){return e.split(" ").forEach((function(e){t[e]||(t[e]=[]),(n?[].unshift:[].push).call(t[e],i)})),this},trigger:function(e,n){return(t[e]||[]).every((function(t){return i.handleUndefinedResult(t,!0)(n)})),this}}}};return i}]),d.run(["$templateCache",function(t){t.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),t.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),t.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),t.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}()},273:function(t,e){!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([,function(t,e,i){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,s=!1,o=void 0;try{for(var a,r=t[Symbol.iterator]();!(n=(a=r.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){s=!0,o=t}finally{try{n||null==r.return||r.return()}finally{if(s)throw o}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,(i=[{key:"registerFor",value:function(t){var e,i,s,o;function a(t,e,i){var s=t[0],a=n({top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[e],3),r=a[0],l=a[1],h=a[2],u=void 0!==i;return o(s)?u?s.scrollTo(t[h].call(t),i):l in s?s[l]:s.document.documentElement[r]:(u&&(s[r]=i),s[r])}function r(t,i,a){var r,l=function(t,i){var a,r,l,h,u,c,p,d,g,f;if(o(t))return{base:a=document.documentElement[{height:"clientHeight",width:"clientWidth"}[i]],padding:0,border:0,margin:0};var m=n({width:[t.offsetWidth,"Left","Right"],height:[t.offsetHeight,"Top","Bottom"]}[i],3);return a=m[0],p=m[1],d=m[2],c=s(t),g=e(t,c["padding"+p])||0,f=e(t,c["padding"+d])||0,r=e(t,c["border"+p+"Width"])||0,l=e(t,c["border"+d+"Width"])||0,h=c["margin"+p],u=c["margin"+d],{base:a,padding:g+f,border:r+l,margin:(e(t,h)||0)+(e(t,u)||0)}}(t,i);return l.base>0?{base:l.base-l.padding-l.border,outer:l.base,outerfull:l.base+l.margin}[a]:(((r=s(t)[i])<0||null===r)&&(r=t.style[i]||0),{base:(r=parseFloat(r)||0)-l.padding-l.border,outer:r,outerfull:r+l.padding+l.border+l.margin}[a])}return i=angular.element.prototype.css,t.prototype.css=function(t,e){var n=this[0];if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style)return i.call(this,t,e)},o=function(t){return t&&t.document&&t.location&&t.alert&&t.setInterval},window.getComputedStyle?(s=function(t){return window.getComputedStyle(t,null)},e=function(t,e){return parseFloat(e)}):(s=function(t){return t.currentStyle},e=function(t,e){var i,n,s,o,a;return new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i").test(e)?(i=(a=t.style).left,o=(s=t.runtimeStyle)&&s.left,s&&(s.left=a.left),a.left=e,n=a.pixelLeft,a.left=i,o&&(s.left=o),n):parseFloat(e)}),angular.forEach({before:function(t){var e,i,n,s,o,a;if(i=this[0],(e=(o=this.parent()).contents())[0]===i)return o.prepend(t);for(n=s=1,a=e.length-1;1<=a?s<=a:s>=a;n=1<=a?++s:--s)if(e[n]===i)return void angular.element(e[n-1]).after(t);throw new Error("invalid DOM structure "+i.outerHTML)},height:function(t){return void 0!==t?(angular.isNumber(t)&&(t+="px"),i.call(this,"height",t)):r(this[0],"height","base")},outerHeight:function(t){return r(this[0],"height",t?"outerfull":"outer")},outerWidth:function(t){return r(this[0],"width",t?"outerfull":"outer")},offset:function(t){var e,i,n=this,s={top:0,left:0},o=n[0],a=o&&o.ownerDocument;if(arguments.length){if(void 0===t)return n;throw new Error("offset setter method is not implemented")}if(a)return e=a.documentElement,null!=o.getBoundingClientRect&&(s=o.getBoundingClientRect()),i=a.defaultView||a.parentWindow,{top:s.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:s.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},scrollTop:function(t){return a(this,"top",t)},scrollLeft:function(t){return a(this,"left",t)}},(function(e,i){if(!t.prototype[i])return t.prototype[i]=e}))}}])&&s(e.prototype,i),t}();function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}var l="ng-ui-scroll-hide",h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$animate=e.has&&e.has("$animate")?e.get("$animate"):null,this.isAngularVersionLessThen1_3=1===angular.version.major&&angular.version.minor<3,this.$q=i}return r(t,null,[{key:"addCSSRules",value:function(){var t,e="."+l,i="display: none",n=document.styleSheets[0];try{t=n.cssRules.length}catch(e){t=0}"insertRule"in n?n.insertRule(e+"{"+i+"}",t):"addRule"in n&&n.addRule(e,i,t)}}]),r(t,[{key:"hideElement",value:function(t){t.element.addClass(l)}},{key:"showElement",value:function(t){t.element.removeClass(l)}},{key:"insertElement",value:function(t,e){return e.after(t),[]}},{key:"removeElement",value:function(t){return t.element.remove(),t.scope.$destroy(),[]}},{key:"insertElementAnimated",value:function(t,e){if(!this.$animate)return this.insertElement(t,e);if(this.isAngularVersionLessThen1_3){var i=this.$q.defer();return this.$animate.enter(t,null,e,(function(){return i.resolve()})),[i.promise]}return[this.$animate.enter(t,null,e)]}},{key:"removeElementAnimated",value:function(t){if(!this.$animate)return this.removeElement(t);if(this.isAngularVersionLessThen1_3){var e=this.$q.defer();return this.$animate.leave(t.element,(function(){return t.scope.$destroy(),e.resolve()})),[e.promise]}return[this.$animate.leave(t.element).then((function(){return t.scope.$destroy()}))]}}]),t}(),u="prepend",c="append",p="insert",d="remove",g="none";function f(t,e,i){var n=Object.create(Array.prototype);return angular.extend(n,{size:e,reset:function(t){n.remove(0,n.length),n.eof=!1,n.bof=!1,n.first=t,n.next=t,n.minIndex=t,n.maxIndex=t,n.minIndexUser=null,n.maxIndexUser=null},append:function(t){t.forEach((function(t){++n.next,n.insert(c,t)})),n.maxIndex=n.eof?n.next-1:Math.max(n.next-1,n.maxIndex)},prepend:function(t,e){t.reverse().forEach((function(t){e?++n.next:--n.first,n.insert(u,t)})),n.minIndex=n.bof?n.minIndex=n.first:Math.min(n.first,n.minIndex)},insert:function(t,e,i){var s={item:e};if(t%1==0)s.op=p,n.splice(t,0,s),i?n.first--:n.next++;else switch(s.op=t,t){case c:n.push(s);break;case u:n.unshift(s)}},remove:function(e,i){if(angular.isNumber(e)){for(var s=e;s<i;s++)t.removeElement(n[s]);return n.splice(e,i-e)}return n.splice(n.indexOf(e),1),e.shiftTop&&n.first===this.getAbsMinIndex()?this.incrementMinIndex():this.decrementMaxIndex(),e.shiftTop?n.first++:n.next--,n.length||(n.minIndex=Math.min(n.maxIndex,n.minIndex)),t.removeElementAnimated(e)},incrementMinIndex:function(){if(null!==n.minIndexUser){if(n.minIndex>n.minIndexUser)return void n.minIndexUser++;n.minIndex===n.minIndexUser&&n.minIndexUser++}n.minIndex++},decrementMaxIndex:function(){null!==n.maxIndexUser&&n.maxIndex<=n.maxIndexUser&&n.maxIndexUser--,n.maxIndex--},getAbsMinIndex:function(){return null!==n.minIndexUser?Math.min(n.minIndexUser,n.minIndex):n.minIndex},getAbsMaxIndex:function(){return null!==n.maxIndexUser?Math.max(n.maxIndexUser,n.maxIndex):n.maxIndex},effectiveHeight:function(t){if(!t.length)return 0;var e=Number.MAX_VALUE,i=Number.NEGATIVE_INFINITY;return t.forEach((function(t){t.element[0].offsetParent&&(e=Math.min(e,t.element.offset().top),i=Math.max(i,t.element.offset().top+t.element.outerHeight(!0)))})),Math.max(0,i-e)},getItems:function(){return n.filter((function(t){return t.op===g}))},getFirstItem:function(){var t=n.getItems();return t.length?t[0].item:null},getLastItem:function(){var t=n.getItems();return t.length?t[t.length-1].item:null}}),n.reset(i),n}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e,i){return e&&b(t.prototype,e),i&&b(t,i),t}var y=function(){function t(){m(this,t)}return v(t,[{key:"add",value:function(t){for(var e=this.length-1;e>=0;e--)if(this[e].index===t.scope.$index)return void(this[e].height=t.element.outerHeight());this.push({index:t.scope.$index,height:t.element.outerHeight()}),this.sort((function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}))}},{key:"remove",value:function(t,e){for(var i=t%1==0?t:t.scope.$index,n=t%1==0?e:t.shiftTop,s=this.length-1;s>=0;s--)if(this[s].index===i){this.splice(s,1);break}if(!n)for(var o=this.length-1;o>=0;o--)this[o].index>i&&this[o].index--}},{key:"clear",value:function(){this.length=0}}]),t}();function x(){var t=[];return t.push.apply(t,arguments),Object.setPrototypeOf(t,x.prototype),t}x.prototype=Object.create(Array.prototype),Object.getOwnPropertyNames(y.prototype).forEach((function(t){return x.prototype[t]=y.prototype[t]}));var w=function(){function t(e){m(this,t),this.element=function(t){if(t.nodeType!==Node.ELEMENT_NODE)throw new Error("ui-scroll directive requires an Element node for templating the view");var e;switch(t.tagName.toLowerCase()){case"dl":throw new Error("ui-scroll directive does not support <".concat(t.tagName,"> as a repeating tag: ").concat(t.outerHTML));case"tr":e=angular.element("<table><tr><td><div></div></td></tr></table>").find("tr");break;case"li":e=angular.element("<li></li>");break;default:e=angular.element("<div></div>")}return e}(e),this.cache=new x}return v(t,[{key:"height",value:function(){return this.element.height.apply(this.element,arguments)}}]),t}();function T(t,e,i,n,s,o){var a=null,r=null,l=n&&n.viewport?n.viewport:angular.element(window),h=n&&n.container?n.container:void 0,u=n&&n.scope?n.scope:s;function c(){return l.outerHeight()*o}return l.css({"overflow-anchor":"none","overflow-y":"auto",display:"block"}),angular.extend(l,{getScope:function(){return u},createPaddingElements:function(t){a=new w(t),r=new w(t),i.before(a.element),i.after(r.element),a.height(0),r.height(0)},applyContainerStyle:function(){return!h||(h!==l&&l.css("height",window.getComputedStyle(h[0]).height),l.height()>0)},bottomDataPos:function(){var t=l[0].scrollHeight;return(t=null!=t?t:l[0].document.documentElement.scrollHeight)-r.height()},topDataPos:function(){return a.height()},bottomVisiblePos:function(){return l.scrollTop()+l.outerHeight()},topVisiblePos:function(){return l.scrollTop()},insertElement:function(e,i){return t.insertElement(e,i||a.element)},insertElementAnimated:function(e,i){return t.insertElementAnimated(e,i||a.element)},shouldLoadBottom:function(){return!e.eof&&l.bottomDataPos()<l.bottomVisiblePos()+c()},clipBottom:function(){for(var t=0,i=0,n=0,s=l.bottomDataPos()-l.bottomVisiblePos()-c(),o=e.length-1;o>=0&&!(i+(n=e[o].element.outerHeight(!0))>s);o--)r.cache.add(e[o]),i+=n,t++;t>0&&(e.eof=!1,e.remove(e.length-t,e.length),e.next-=t,l.adjustPaddings())},shouldLoadTop:function(){return!e.bof&&l.topDataPos()>l.topVisiblePos()-c()},clipTop:function(){for(var t=0,i=0,n=0,s=l.topVisiblePos()-l.topDataPos()-c(),o=0;o<e.length&&!(i+(n=e[o].element.outerHeight(!0))>s);o++)a.cache.add(e[o]),i+=n,t++;t>0&&(a.height(a.height()+i),e.bof=!1,e.remove(0,t),e.first+=t)},adjustPaddings:function(){if(e.length){var t=e.reduce((function(t,e){return t+e.element.outerHeight(!0)}),0),i=0,n=0;a.cache.forEach((function(t){t.index<e.first&&(i+=t.height,n++)}));var s=0,o=0;r.cache.forEach((function(t){t.index>=e.next&&(s+=t.height,o++)}));var l=(t+i+s)/(n+o+e.length),h=null!==e.minIndexUser&&e.minIndex>e.minIndexUser,u=null!==e.maxIndexUser&&e.maxIndex<e.maxIndexUser,c=h?(e.minIndex-e.minIndexUser)*l:0,p=u?(e.maxIndexUser-e.maxIndex)*l:0;a.height(i+c),r.height(s+p)}},onAfterMinIndexSet:function(t){if(null!==e.minIndexUser&&e.minIndex>e.minIndexUser){var i=a.height()-t;for(l.scrollTop(l.scrollTop()+i);(i-=l.scrollTop())>0;)r.height(r.height()+i),l.scrollTop(l.scrollTop()+i)}},onAfterPrepend:function(t){if(t.prepended.length){var i=e.effectiveHeight(t.prepended),n=a.height()-i;if(n>=0)a.height(n);else{var s=l.scrollTop(),o=s-n;l.synthetic={previous:s,next:o},a.height(0),l.scrollTop(o)}}},resetTopPadding:function(){a.height(0),a.cache.clear()},resetBottomPadding:function(){r.height(0),r.cache.clear()},removeCacheItem:function(t,e){a.cache.remove(t,e),r.cache.remove(t,e)},removeItem:function(t){return this.removeCacheItem(t),e.remove(t)}}),l}function S(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var L=function(){function t(e,i,n,s,o,a,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$parse=i,this.$attr=n,this.viewport=s,this.buffer=o,this.doAdjust=a,this.reload=r,this.isLoading=!1,this.disabled=!1;var l=s.getScope();this.startScope=l.$parent?l:e,this.publicContext={},this.assignAdapter(n.adapter),this.generatePublicContext()}var e,i;return e=t,(i=[{key:"assignAdapter",value:function(t){if(t&&(t=t.replace(/^\s+|\s+$/gm,""))){var e;try{this.$parse(t).assign(this.startScope,{}),e=this.$parse(t)(this.startScope)}catch(e){throw e.message="Angular ui-scroll Adapter assignment exception.\n"+"Can't parse \"".concat(t,'" expression.\n')+e.message,e}angular.extend(e,this.publicContext),this.publicContext=e}}},{key:"generatePublicContext",value:function(){for(var t=this,e=["reload","applyUpdates","append","prepend","isBOF","isEOF","isEmpty"],i=e.length-1;i>=0;i--)this.publicContext[e[i]]=this[e[i]].bind(this);for(var n=["isLoading","topVisible","topVisibleElement","topVisibleScope","bottomVisible","bottomVisibleElement","bottomVisibleScope"],s=function(e){var i=void 0,s=t.$attr[n[e]];Object.defineProperty(t,n[e],{get:function(){return i},set:function(o){i=o,t.publicContext[n[e]]=o,s&&t.$parse(s).assign(t.startScope,o)}})},o=n.length-1;o>=0;o--)s(o);for(var a=["bufferFirst","bufferLast","bufferLength"],r=function(e){Object.defineProperty(t.publicContext,a[e],{get:function(){return t[a[e]]}})},l=a.length-1;l>=0;l--)r(l);Object.defineProperty(this.publicContext,"disabled",{get:function(){return t.disabled},set:function(e){return(t.disabled=e)?null:t.doAdjust()}})}},{key:"loading",value:function(t){this.isLoading=t}},{key:"isBOF",value:function(){return this.buffer.bof}},{key:"isEOF",value:function(){return this.buffer.eof}},{key:"isEmpty",value:function(){return!this.buffer.length}},{key:"append",value:function(t){this.buffer.append(t),this.doAdjust(),this.viewport.clipTop(),this.viewport.clipBottom()}},{key:"prepend",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.buffer.prepend(t,e.immutableTop),this.doAdjust(),this.viewport.clipTop(),this.viewport.clipBottom()}},{key:"applyUpdates",value:function(t,e,i){"function"==typeof t?this.applyUpdatesFunc(t,e):this.applyUpdatesIndex(t,e,i),this.doAdjust()}},{key:"applyUpdatesFunc",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.buffer.slice(0).forEach((function(n){e.applyUpdate(n,t(n.item,n.scope,n.element),i)}))}},{key:"applyUpdatesIndex",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t%1!=0)throw new Error("applyUpdates - "+t+" is not a valid index (should be an integer)");var n=t-this.buffer.first;n>=0&&n<this.buffer.length?this.applyUpdate(this.buffer[n],e,i):t>=this.buffer.getAbsMinIndex()&&t<=this.buffer.getAbsMaxIndex()&&angular.isArray(e)&&!e.length&&(this.viewport.removeCacheItem(t,!i.immutableTop&&t===this.buffer.minIndex),i.immutableTop||t!==this.buffer.getAbsMinIndex()?this.buffer.decrementMaxIndex():this.buffer.incrementMinIndex())}},{key:"applyUpdate",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(angular.isArray(e)){var s=this.buffer.indexOf(t);e.reverse().some((function(e){return e===t.item}))||(t.op=d,n.immutableTop||e.length||(0===s&&this.buffer.bof||0!==s&&this.buffer[s-1].shiftTop)&&(t.shiftTop=!0)),e.forEach((function(e){e===t.item?s--:i.buffer.insert(s+1,e,!n.immutableTop&&-1===s)}))}}},{key:"calculateProperties",value:function(){for(var t=null,e=0,i=!1,n=!1,s=this.buffer.length,o=0;o<s;o++){var a=this.buffer[o],r=a.element.offset().top;if(t!==r){var l=a.element.outerHeight(!0),h=this.viewport.topDataPos()+e+l;!i&&h>this.viewport.topVisiblePos()&&(i=!0,this.topVisible=a.item,this.topVisibleElement=a.element,this.topVisibleScope=a.scope),!n&&(h>=this.viewport.bottomVisiblePos()||o===s-1&&this.isEOF())&&(n=!0,this.bottomVisible=a.item,this.bottomVisibleElement=a.element,this.bottomVisibleScope=a.scope),e+=l}if(t=r,i&&n)break}}},{key:"bufferLength",get:function(){return this.buffer.getItems().length}},{key:"bufferFirst",get:function(){return this.buffer.getFirstItem()}},{key:"bufferLast",get:function(){return this.buffer.getLastItem()}}])&&S(e.prototype,i),t}();angular.module("ui.scroll",[]).constant("JQLiteExtras",o).run(["JQLiteExtras",function(t){var e=angular.element;!(window.jQuery&&e.fn&&e.fn.jquery)&&(new t).registerFor(e),h.addCSSRules()}]).directive("uiScrollViewport",(function(){return{restrict:"A",controller:["$scope","$element",function(t,e){var i=this;return this.container=e,this.viewport=e,this.scope=t,angular.forEach(e.children(),(function(t){"tbody"===t.tagName.toLowerCase()&&(i.viewport=angular.element(t))})),this}]}})).directive("uiScroll",["$log","$injector","$rootScope","$timeout","$interval","$q","$parse",function(t,e,i,n,s,o,a){return{require:["?^uiScrollViewport"],restrict:"A",transclude:"element",priority:1e3,terminal:!0,link:function(t,r,l,m,b){var v=l.uiScroll.match(/^\s*(\w+)\s+in\s+([(\w|\$)\.]+)\s*$/);if(!v)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+l.uiScroll+"'");function y(t,e,i){return i||(t=null===t?e:Math.floor(t)),isNaN(t)?e:t}function x(e,i,n){return y(a(e)(t),i,n)}var w,S,V=null,H=v[1],k=v[2],E=m[0],P=Math.max(3,x(l.bufferSize,10)),z=Math.max(.3,x(l.padding,.5,!0)),A=(w=l.handleInertia,!0,"boolean"!=typeof(S=a(w)(t))||S),$=x(l.startIndex,1),B=0,I=[],C=new h(e,o),O=new f(C,P,$),R=new T(C,O,r,E,i,z),M=new L(t,a,l,R,O,Z,(function(){K(),R.resetTopPadding(),R.resetBottomPadding(),arguments.length&&($=y(arguments[0],1,!1)),O.reset($),U(V,"minIndex"),U(V,"maxIndex"),Z()}));E&&(E.adapter=M);var D=function(){return"[object Object]"===Object.prototype.toString.call(V)&&"function"==typeof V.get};if(V=a(k)(t),!D()&&(V=e.get(k),!D()))throw new Error(k+" is not a valid datasource");var F=[];function U(t,e){var i;angular.isNumber(t[e])&&(i=t[e],angular.isNumber(i)&&(F=F.filter((function(t){return t.id!==e}))).push({id:e,run:function(){return t[e]=i}}))}function j(t,e,i){var n,s=Object.getOwnPropertyDescriptor(t,e);s&&(s.set||s.get)||(U(t,e),Object.defineProperty(t,e,{set:function(s){if(n=s,!I.length||O.length){O[i]=s;var o=R.topDataPos();R.adjustPaddings(),"minIndex"===e&&R.onAfterMinIndexSet(o)}else U(t,e)},get:function(){return n}}))}j(V,"minIndex","minIndexUser"),j(V,"maxIndex","maxIndexUser");var N=2!==V.get.length?function(t){return V.get(O.next,P,t)}:function(t){V.get({index:O.next,append:O.length?O[O.length-1].item:void 0,count:P},t)},W=2!==V.get.length?function(t){return V.get(O.first-P,P,t)}:function(t){V.get({index:O.first-P,prepend:O.length?O[0].item:void 0,count:P},t)};function q(e){return e&&e!==B||t.$$destroyed}function K(){R.off("resize",it),R.off("scroll",it)}function _(t){return t.element.height()&&t.element[0].offsetParent}function G(t,e){X(t,e,R.insertElement),_(t)||(t.unregisterVisibilityWatcher=t.scope.$watch((function(){return function(t){_(t)&&(O.forEach((function(t){"function"==typeof t.unregisterVisibilityWatcher&&(t.unregisterVisibilityWatcher(),delete t.unregisterVisibilityWatcher)})),I.length||n((function(){return Z()})))}(t)}))),C.hideElement(t)}function X(t,e,i){var n=null,s=e>0?O[e-1].element:void 0;if(b((function(e,o){n=i(e,s),t.element=e,t.scope=o,o[H]=t.item})),M.transform){var o=t.scope.uiScrollTdInitializer;o&&o.linking?M.transform(t.scope,t.element):t.scope.uiScrollTdInitializer={onLink:function(){return M.transform(t.scope,t.element)},scope:t.scope}}return n}function Y(t,e){e.animated.length?o.all(e.animated).then((function(){R.adjustPaddings(),Z(t)})):R.adjustPaddings()}function Q(t,e){R.shouldLoadBottom()?(!e||O.effectiveHeight(e.inserted)>0)&&1===I.push(!0)&&(M.loading(!0),et(t)):R.shouldLoadTop()&&(!e||O.effectiveHeight(e.prepended)>0||I[0])&&1===I.push(!1)&&(M.loading(!0),et(t))}function J(){var e,n,s,o,a=(e=[],n=[],s=[],o=[],O.forEach((function(t,i){switch(t.op){case u:n.unshift(t);break;case c:G(t,i),t.op=g,o.push(t);break;case p:e=e.concat(X(t,i,R.insertElementAnimated)),t.op=g,o.push(t);break;case d:s.push(t)}})),s.forEach((function(t){return e=e.concat(R.removeItem(t))})),n.length&&n.forEach((function(t){G(t),t.op=g})),O.forEach((function(t,e){return t.scope.$index=O.first+e})),{prepended:n,removed:s,inserted:o,animated:e});return!t.$$phase&&!i.$$phase&&t.$digest(),a.inserted.forEach((function(t){return C.showElement(t)})),a.prepended.forEach((function(t){return C.showElement(t)})),a}function Z(t){t||(I=[],t=++B);var e=J();q(t)||(Y(t,e),Q(t),I.length||M.calculateProperties())}function tt(t){var e=J();R.onAfterPrepend(e),q(t)||(Y(t,e),F.forEach((function(t){return t.run()})),F=[],Q(t,e),I.shift(),I.length?et(t):(M.loading(!1),R.on("resize",it),R.on("scroll",it),M.calculateProperties()))}function et(t){I[0]?O.length&&!R.shouldLoadBottom()?tt(t):N((function(e){q(t)||(e.length<P&&(O.eof=!0),e.length>0&&(R.clipTop(),O.append(e)),tt(t))})):O.length&&!R.shouldLoadTop()?tt(t):W((function(e){q(t)||(e.length<P&&(O.bof=!0),e.length>0&&(O.length&&R.clipBottom(),O.prepend(e)),tt(t))}))}function it(){A&&function(){if(R.synthetic){var t=R.synthetic.previous,e=R.synthetic.next;if(R.scrollTop()!==e)return requestAnimationFrame((function(){var i=R.scrollTop(),n=t-i;n>0?R.scrollTop(e-n):R.scrollTop(e),R.synthetic=null})),!0;R.synthetic=null}}()||i.$$phase||M.isLoading||M.disabled||(Q(B),I.length?K():(M.calculateProperties(),!t.$$phase&&t.$digest()))}function nt(t){if(!M.disabled){var e=R[0].scrollTop,i=R[0].scrollHeight-R[0].clientHeight;(0===e&&!O.bof||e===i&&!O.eof)&&t.preventDefault()}}b((function(t,e){R.createPaddingElements(t[0]),e.$destroy(),t.remove()})),t.$on("$destroy",(function(){K(),R.off("mousewheel",nt)})),R.on("mousewheel",nt),function(){var t=0;if(R.applyContainerStyle())Z();else var e=s((function(){if(t++,R.applyContainerStyle()&&(s.cancel(e),Z()),50*t>=500)throw s.cancel(e),Error("ui-scroll directive requires a viewport with non-zero height in ".concat(500,"ms"))}),50)}()}}}])}])},274:function(t,e){!function(){"use strict";angular.module("ui.scroll.jqlite",[])}()},275:function(t,e,i){var n,s,o;/*! angularjs-slider - v7.1.0 -  (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervi.eu>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> -  https://github.com/angular-slider/angularjs-slider -  2022-05-26 */!function(a,r){"use strict";s=[i(270)],void 0===(o="function"==typeof(n=function(t){var e=t.module("rzSlider",[]).factory("RzSliderOptions",(function(){var e={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,restrictedRange:null,skipRestrictedRangesWithArrowKeys:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,showOuterSelectionBars:!1,hidePointerLabels:!1,hideLimitLabels:!1,autoHideLimitLabels:!0,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksArray:null,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,disableAnimation:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,reversedControls:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,labelOverlapSeparator:" - ",customTemplateScope:null,logScale:!1,customValueToPosition:null,customPositionToValue:null,selectionBarGradient:null,ariaLabel:null,ariaLabelledBy:null,ariaLabelHigh:null,ariaLabelledByHigh:null},i={},n={options:function(e){t.extend(i,e)},getOptions:function(n){return t.extend({},e,i,n)}};return n})).factory("rzThrottle",["$timeout",function(t){return function(e,i,n){var s,o,a,r=Date.now||function(){return(new Date).getTime()},l=null,h=0;n=n||{};var u=function(){h=r(),l=null,a=e.apply(s,o),s=o=null};return function(){var c=r(),p=i-(c-h);return s=this,o=arguments,0>=p?(t.cancel(l),l=null,h=c,a=e.apply(s,o),s=o=null):l||!1===n.trailing||(l=t(u,p)),a}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(e,i,n,s,o,a){var r=function(t,e){this.scope=t,this.lowValue=0,this.highValue=0,this.sliderElem=e,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,position:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.currentFocusElement=null,this.moving=!1,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return r.prototype={init:function(){var e,i,s=this,o=function(){s.calcViewDimensions()};this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.updateRestrictionBar(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",o),t.element(n).on("resize",o),this.initHasRun=!0,this.options.disableAnimation&&this.sliderElem.addClass("noanimate"),e=a((function(){s.onLowHandleChange()}),s.options.interval),i=a((function(){s.onHighHandleChange()}),s.options.interval),this.scope.$on("rzSliderForceRender",(function(){s.resetLabelsValue(),e(),s.range&&i(),s.resetSlider()})),this.scope.$watchCollection("rzSliderOptions()",(function(t,e){t!==e&&(s.applyOptions(),s.syncLowValue(),s.range&&s.syncHighValue(),s.resetSlider())})),this.scope.$watch("rzSliderModel",(function(t,i){s.internalChange||t!==i&&e()})),this.scope.$watch("rzSliderHigh",(function(t,e){s.internalChange||t!==e&&(null!=t&&i(),(s.range&&null==t||!s.range&&null!=t)&&(s.applyOptions(),s.resetSlider()))})),this.scope.$on("$destroy",(function(){s.unbindEvents(),t.element(n).off("resize",o),s.currentFocusElement=null}))},findStepIndex:function(e){for(var i=0,n=0;n<this.options.stepsArray.length;n++){var s=this.options.stepsArray[n];if(s===e){i=n;break}if(t.isDate(s)){if(s.getTime()===e.getTime()){i=n;break}}else if(t.isObject(s)&&(t.isDate(s.value)&&s.value.getTime()===e.getTime()||s.value===e)){i=n;break}}return i},syncLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel):this.lowValue=this.scope.rzSliderModel},syncHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh):this.highValue=this.scope.rzSliderHigh},getStepValue:function(e){var i=this.options.stepsArray[e];return t.isDate(i)?i:t.isObject(i)?i.value:i},applyLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue):this.scope.rzSliderModel=this.lowValue},applyHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue):this.scope.rzSliderHigh=this.highValue},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var e;e=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=o.getOptions(e),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues||!!this.options.ticksArray,this.scope.showTicks=this.options.showTicks,(t.isNumber(this.options.showTicks)||this.options.ticksArray)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(t){return String(t)},this.getLegend=this.options.getLegend),this.options.vertical?(this.positionProperty="bottom",this.dimensionProperty="height"):(this.positionProperty="left",this.dimensionProperty="width"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(t){return this.options.bindIndexForStepsArray?this.getStepValue(t):t},this.getLegend=function(e){var i=this.options.stepsArray[e];return t.isObject(i)?i.legend:null}},resetSlider:function(){this.resetLabelsValue(),this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions(),this.updateRestrictionBar(),this.refocusPointerIfNeeded()},refocusPointerIfNeeded:function(){this.currentFocusElement&&(this.onPointerFocus(this.currentFocusElement.pointer,this.currentFocusElement.ref),this.focusElement(this.currentFocusElement.pointer))},ensureRestrictedBarIsArray:function(e){var i=t.element(e);if(this.restrictedBar=[],this.options.restrictedRange){this.options.restrictedRange=Array.isArray(this.options.restrictedRange)?this.options.restrictedRange:[this.options.restrictedRange],this.restrictedBar[0]=i;for(var n=e.parentElement,s=1;s<this.options.restrictedRange.length;s++){var o=document.createElement("span");o.setAttribute("class","rz-bar-wrapper"),o.innerHTML='<span class="rz-bar rz-restricted" ng-style="restrictionStyle"></span>',n.appendChild(o),this.restrictedBar[s]=t.element(o)}}else e.style.visibility="hidden",this.restrictedBar=null},initElemHandles:function(){t.forEach(this.sliderElem.children(),(function(e,i){var n=t.element(e);switch(i){case 0:this.leftOutSelBar=n;break;case 1:this.rightOutSelBar=n;break;case 2:this.fullBar=n;break;case 3:this.selBar=n;break;case 4:this.ensureRestrictedBarIsArray(e);break;case 5:this.minH=n;break;case 6:this.maxH=n;break;case 7:this.flrLab=n;break;case 8:this.ceilLab=n;break;case 9:this.minLab=n;break;case 10:this.maxLab=n;break;case 11:this.cmbLab=n;break;case 12:this.ticks=n}}),this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var t=this.options.showTicksValues&&!this.intermediateTicks;for(var e in this.alwaysHide(this.minLab,t||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,t||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,t||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.alwaysHide(this.leftOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.restrictedBar)this.restrictedBar[e]&&this.alwaysHide(this.restrictedBar[e],!this.options.restrictedRange[e]);this.alwaysHide(this.rightOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.range&&this.options.showOuterSelectionBars&&this.fullBar.addClass("rz-transparent"),this.options.vertical?this.sliderElem.addClass("rz-vertical"):this.sliderElem.removeClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(t,e){t.rzAlwaysHide=e,e?this.hideEl(t):this.showEl(t)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0,this.flrLab.rzsv=void 0,this.ceilLab.rzsv=void 0,this.cmbLab.rzsv=void 0,this.resetPosition(this.flrLab),this.resetPosition(this.ceilLab),this.resetPosition(this.cmbLab),this.resetPosition(this.minLab),this.resetPosition(this.maxLab)},initHandles:function(){this.updateLowHandle(this.valueToPosition(this.lowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(t,e,i,n){n=void 0===n||n;var s="",o=!1,a=e.hasClass("no-label-injection");n?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(t=this.getStepValue(t)),s=String(this.customTrFn(t,this.options.id,i))):s=String(t),(void 0===e.rzsv||e.rzsv.length!==s.length||e.rzsv.length>0&&0===e.rzsd)&&(o=!0,e.rzsv=s),a||e.html(s),this.scope[i+"Label"]=s,o&&this.getDimension(e)},setMinAndMax:function(){if(this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.logScale&&0===this.minValue)throw Error("Can't use floor=0 with logarithmic scale");this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical?this.minH.attr("aria-orientation","vertical"):this.minH.attr("aria-orientation","horizontal"),this.options.ariaLabel?this.minH.attr("aria-label",this.options.ariaLabel):this.options.ariaLabelledBy&&this.minH.attr("aria-labelledby",this.options.ariaLabelledBy),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical?this.maxH.attr("aria-orientation","vertical"):this.maxH.attr("aria-orientation","horizontal"),this.options.ariaLabelHigh?this.maxH.attr("aria-label",this.options.ariaLabelHigh):this.options.ariaLabelledByHigh&&this.maxH.attr("aria-labelledby",this.options.ariaLabelledByHigh))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var t=this.getDimension(this.minH);if(this.handleHalfDim=t/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-t,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun){this.updateFloorLab(),this.updateCeilLab(),this.initHandles();var i=this;e((function(){i.updateTicksScale()}))}},updateTicksScale:function(){if(this.options.showTicks){var e=this.options.ticksArray||this.getTicksArray(),i=this.options.vertical?"translateY":"translateX",n=this;this.options.rightToLeft&&e.reverse(),this.scope.ticks=e.map((function(e){var s=null;t.isObject(e)&&(s=e.legend,e=e.value);var o=n.valueToPosition(e);n.options.vertical&&(o=n.maxPos-o);var a=i+"("+Math.round(o)+"px)",r={legend:s,selected:n.isTickSelected(e),style:{"-webkit-transform":a,"-moz-transform":a,"-o-transform":a,"-ms-transform":a,transform:a}};return r.selected&&n.options.getSelectionBarColor&&(r.style["background-color"]=n.getSelectionBarColor()),!r.selected&&n.options.getTickColor&&(r.style["background-color"]=n.getTickColor(e)),n.options.ticksTooltip&&(r.tooltip=n.options.ticksTooltip(e),r.tooltipPlacement=n.options.vertical?"right":"top"),(!0===n.options.showTicksValues||e%n.options.showTicksValues==0)&&(r.value=n.getDisplayValue(e,"tick-value"),n.options.ticksValuesTooltip&&(r.valueTooltip=n.options.ticksValuesTooltip(e),r.valueTooltipPlacement=n.options.vertical?"right":"top")),n.getLegend&&((s=n.getLegend(e,n.options.id))&&(r.legend=s)),r}))}},getTicksArray:function(){var t=this.step,e=[];this.intermediateTicks&&(t=this.options.showTicks);for(var i=this.minValue;i<=this.maxValue;i+=t)e.push(i);return e},isTickSelected:function(t){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var e=this.options.showSelectionBarFromValue;if(this.lowValue>e&&t>=e&&t<=this.lowValue)return!0;if(this.lowValue<e&&e>=t&&t>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(t>=this.lowValue)return!0}else if(this.options.showSelectionBar&&t<=this.lowValue)return!0;return!!(this.range&&t>=this.lowValue&&t<=this.highValue)},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var t=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,t)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var t=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,t)},updateHandles:function(t,e){"lowValue"===t?this.updateLowHandle(e):this.updateHighHandle(e),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(t,e){var i=this[t].rzsd,n=e-i/2+this.handleHalfDim,s=this.barDimension-i;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===t||!this.options.rightToLeft&&"maxLab"===t?Math.min(n,s):Math.min(Math.max(n,0),s):n},updateLowHandle:function(t){if(this.setPosition(this.minH,t),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",t)),this.options.getPointerColor){var e=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:e}}this.options.autoHideLimitLabels&&this.shFloorCeil()},updateHighHandle:function(t){if(this.setPosition(this.maxH,t),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",t)),this.options.getPointerColor){var e=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:e}}this.options.autoHideLimitLabels&&this.shFloorCeil()},shFloorCeil:function(){if(!this.options.hidePointerLabels){var t=!1,e=!1,i=this.isLabelBelowFloorLab(this.minLab),n=this.isLabelAboveCeilLab(this.minLab),s=this.isLabelAboveCeilLab(this.maxLab),o=this.isLabelBelowFloorLab(this.cmbLab),a=this.isLabelAboveCeilLab(this.cmbLab);if(i?(t=!0,this.hideEl(this.flrLab)):(t=!1,this.showEl(this.flrLab)),n?(e=!0,this.hideEl(this.ceilLab)):(e=!1,this.showEl(this.ceilLab)),this.range){var r=this.cmbLabelShown?a:s,l=this.cmbLabelShown?o:i;r?this.hideEl(this.ceilLab):e||this.showEl(this.ceilLab),l?this.hideEl(this.flrLab):t||this.showEl(this.flrLab)}}},isLabelBelowFloorLab:function(t){var e=this.options.rightToLeft,i=t.rzsp,n=t.rzsd,s=this.flrLab.rzsp,o=this.flrLab.rzsd;return e?i+n>=s-2:s+o+2>=i},isLabelAboveCeilLab:function(t){var e=this.options.rightToLeft,i=t.rzsp,n=t.rzsd,s=this.ceilLab.rzsp,o=this.ceilLab.rzsd;return e?s+o+2>=i:i+n>=s-2},updateRestrictionBar:function(){var t=0,e=0;if(this.options.restrictedRange)for(var i in this.options.restrictedRange=Array.isArray(this.options.restrictedRange)?this.options.restrictedRange:[this.options.restrictedRange],this.options.restrictedRange){var n=this.valueToPosition(this.options.restrictedRange[i].from),s=this.valueToPosition(this.options.restrictedRange[i].to);e=Math.abs(s-n),t=this.options.rightToLeft?s+this.handleHalfDim:n+this.handleHalfDim,this.setDimension(this.restrictedBar[i],e),this.setPosition(this.restrictedBar[i],t)}},updateSelectionBar:function(){var t=0,e=0,i=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,n=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)e=Math.abs(this.maxH.rzsp-this.minH.rzsp),t=n;else if(null!==this.options.showSelectionBarFromValue){var s=this.options.showSelectionBarFromValue,o=this.valueToPosition(s);(this.options.rightToLeft?this.lowValue<=s:this.lowValue>s)?(e=this.minH.rzsp-o,t=o+this.handleHalfDim):(e=o-this.minH.rzsp,t=this.minH.rzsp+this.handleHalfDim)}else i?(e=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,t=this.minH.rzsp+this.handleHalfDim):(e=this.minH.rzsp+this.handleHalfDim,t=0);if(this.setDimension(this.selBar,e),this.setPosition(this.selBar,t),this.range&&this.options.showOuterSelectionBars&&(this.options.rightToLeft?(this.setDimension(this.rightOutSelBar,t),this.setPosition(this.rightOutSelBar,0),this.setDimension(this.leftOutSelBar,this.getDimension(this.fullBar)-(t+e)),this.setPosition(this.leftOutSelBar,t+e)):(this.setDimension(this.leftOutSelBar,t),this.setPosition(this.leftOutSelBar,0),this.setDimension(this.rightOutSelBar,this.getDimension(this.fullBar)-(t+e)),this.setPosition(this.rightOutSelBar,t+e))),this.options.getSelectionBarColor){var a=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:a}}else if(this.options.selectionBarGradient){var r=null!==this.options.showSelectionBarFromValue?this.valueToPosition(this.options.showSelectionBarFromValue):0,l=r-t>0^i,h=this.options.vertical?l?"bottom":"top":l?"left":"right";this.scope.barStyle={backgroundImage:"linear-gradient(to "+h+", "+this.options.selectionBarGradient.from+" 0%,"+this.options.selectionBarGradient.to+" 100%)"},this.options.vertical?(this.scope.barStyle.backgroundPosition="center "+(r+e+t+(l?-this.handleHalfDim:0))+"px",this.scope.barStyle.backgroundSize="100% "+(this.barDimension-this.handleHalfDim)+"px"):(this.scope.barStyle.backgroundPosition=r-t+(l?this.handleHalfDim:0)+"px center",this.scope.barStyle.backgroundSize=this.barDimension-this.handleHalfDim+"px 100%")}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(t){return"max"===t?this.options.getPointerColor(this.scope.rzSliderHigh,t):this.options.getPointerColor(this.scope.rzSliderModel,t)},getTickColor:function(t){return this.options.getTickColor(t)},updateCmbLabel:function(){if(this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var t,e=this.getDisplayValue(this.lowValue,"model"),i=this.getDisplayValue(this.highValue,"high");t=this.options.mergeRangeLabelsIfSame&&e===i?e:this.options.rightToLeft?i+this.options.labelOverlapSeparator+e:e+this.options.labelOverlapSeparator+i,this.translateFn(t,this.cmbLab,"cmb",!1);var n=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2;this.setPosition(this.cmbLab,n),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.cmbLabelShown=!1,this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab);this.options.autoHideLimitLabels&&this.shFloorCeil()},getDisplayValue:function(t,e){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(t=this.getStepValue(t)),this.customTrFn(t,this.options.id,e)},roundStep:function(t,e){var i=e||this.step,n=parseFloat((t-this.minValue)/i).toPrecision(12);return n=Math.round(+n)*i,+(this.minValue+n).toFixed(this.precision)},hideEl:function(t){return t.css({visibility:"hidden"})},showEl:function(t){return t.rzAlwaysHide?t:t.css({visibility:"visible"})},setPosition:function(t,e){t.rzsp=e;var i={};return i[this.positionProperty]=Math.round(e)+"px",t.css(i),e},resetPosition:function(t){t.css({left:null,bottom:null})},getDimension:function(t){var e=t[0].getBoundingClientRect();return this.options.vertical?t.rzsd=(e.bottom-e.top)*this.options.scale:t.rzsd=(e.right-e.left)*this.options.scale,t.rzsd},setDimension:function(t,e){t.rzsd=e;var i={};return i[this.dimensionProperty]=Math.round(e)+"px",t.css(i),e},sanitizeValue:function(t){return Math.min(Math.max(t,this.minValue),this.maxValue)},valueToPosition:function(t){var e=this.linearValueToPosition;this.options.customValueToPosition?e=this.options.customValueToPosition:this.options.logScale&&(e=this.logValueToPosition);var i=e(t=this.sanitizeValue(t),this.minValue,this.maxValue)||0;return this.options.rightToLeft&&(i=1-i),i*this.maxPos},linearValueToPosition:function(t,e,i){return(t-e)/(i-e)},logValueToPosition:function(t,e,i){return((t=Math.log(t))-(e=Math.log(e)))/((i=Math.log(i))-e)},positionToValue:function(t){var e=t/this.maxPos;this.options.rightToLeft&&(e=1-e);var i=this.linearPositionToValue;return this.options.customPositionToValue?i=this.options.customPositionToValue:this.options.logScale&&(i=this.logPositionToValue),i(e,this.minValue,this.maxValue)||0},linearPositionToValue:function(t,e,i){return t*(i-e)+e},logPositionToValue:function(t,e,i){e=Math.log(e);var n=t*((i=Math.log(i))-e)+e;return Math.exp(n)},getEventAttr:function(t,e){return void 0===t.originalEvent?t[e]:t.originalEvent[e]},getEventXY:function(t,e){var i=this.options.vertical?"clientY":"clientX";if(void 0!==t[i])return t[i];var n=this.getEventAttr(t,"touches");if(void 0!==e)for(var s=0;s<n.length;s++)if(n[s].identifier===e)return n[s][i];return n[0][i]},getEventPosition:function(t,e){var i=this.sliderElem.rzsp;return(this.options.vertical?-this.getEventXY(t,e)+i:this.getEventXY(t,e)-i)*this.options.scale-this.handleHalfDim},getEventNames:function(t){var e={moveEvent:"",endEvent:""};return this.getEventAttr(t,"touches")?(e.moveEvent="touchmove",e.endEvent="touchend"):(e.moveEvent="mousemove",e.endEvent="mouseup"),e},getNearestHandle:function(t){if(!this.range)return this.minH;var e=this.getEventPosition(t),i=Math.abs(e-this.minH.rzsp),n=Math.abs(e-this.maxH.rzsp);return n>i?this.minH:i>n?this.maxH:this.options.rightToLeft?e>this.minH.rzsp?this.minH:this.maxH:e<this.minH.rzsp?this.minH:this.maxH},focusElement:function(t){t[0].focus()},bindEvents:function(){var e,i,n;this.options.draggableRange?(e="rzSliderDrag",i=this.onDragStart,n=this.onDragMove):(e="lowValue",i=this.onStart,n=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",t.bind(this,i,null,e)),this.selBar.on("mousedown",t.bind(this,n,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",t.bind(this,i,null,e)),this.maxH.on("mousedown",t.bind(this,i,null,e))):(this.minH.on("mousedown",t.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",t.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",t.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",t.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",t.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",t.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",t.bind(this,i,null,e)),this.selBar.on("touchstart",t.bind(this,n,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",t.bind(this,i,null,e)),this.maxH.on("touchstart",t.bind(this,i,null,e))):(this.minH.on("touchstart",t.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",t.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",t.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",t.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",t.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",t.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",t.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",t.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(e,n,s){var o,a,r=this.getEventNames(s);s.stopPropagation(),s.preventDefault(),this.calcViewDimensions(),e?this.tracking=n:(e=this.getNearestHandle(s),this.tracking=e===this.minH?"lowValue":"highValue"),e.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(e),o=t.bind(this,this.dragging.active?this.onDragMove:this.onMove,e),a=t.bind(this,this.onEnd,o),i.on(r.moveEvent,o),i.on(r.endEvent,a),this.endHandlerToBeRemovedOnEnd=a,this.callOnStart();var l=this.getEventAttr(s,"changedTouches");l&&(this.touchId||(this.isDragging=!0,this.touchId=l[0].identifier))},onMove:function(e,i,n){this.options.disableAnimation||this.moving&&this.sliderElem.addClass("noanimate"),this.moving=!0;var s,o=this.getEventAttr(i,"changedTouches");if(o)for(var a=0;a<o.length;a++)if(o[a].identifier===this.touchId){s=o[a];break}if(!o||s){var r,l=this.getEventPosition(i,s?s.identifier:void 0),h=this.options.rightToLeft?this.minValue:this.maxValue,u=this.options.rightToLeft?this.maxValue:this.minValue;0>=l?r=u:l>=this.maxPos?r=h:(r=this.positionToValue(l),r=n&&t.isNumber(this.options.showTicks)?this.roundStep(r,this.options.showTicks):this.roundStep(r)),this.positionTrackingHandle(r)}},onEnd:function(t,e){this.moving=!1,this.options.disableAnimation||this.sliderElem.removeClass("noanimate");var n=this.getEventAttr(e,"changedTouches");if(!n||n[0].identifier===this.touchId){this.isDragging=!1,this.touchId=null,this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1;var s=this.getEventNames(e);i.off(s.moveEvent,t),i.off(s.endEvent,this.endHandlerToBeRemovedOnEnd),this.endHandlerToBeRemovedOnEnd=null,this.callOnEnd()}},onTickClick:function(t,e){this.onMove(t,e,!0)},onPointerFocus:function(e,i){this.tracking=i,e.one("blur",t.bind(this,this.onPointerBlur,e)),e.on("keydown",t.bind(this,this.onKeyboardEvent)),e.on("keyup",t.bind(this,this.onKeyUp)),this.firstKeyDown=!0,e.addClass("rz-active"),this.currentFocusElement={pointer:e,ref:i}},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(t){t.off("keydown"),t.off("keyup"),t.removeClass("rz-active"),this.isDragging||(this.tracking="",this.currentFocusElement=null)},skipRestrictedRanges:function(t,e){if(this.options.restrictedRange&&Array.isArray(this.options.restrictedRange))for(var i in this.options.restrictedRange){var n=this.options.restrictedRange[i];if(0===n.from&&0===e&&[37,40].includes(t)||n.to>=this.options.restrictedRange[this.options.restrictedRange.length-1].to&&e>=this.options.restrictedRange[this.options.restrictedRange.length-1].to&&[38,39].includes(t))return e;n.to>e&&e>n.from&&(e=Math.abs(n.to-e)>Math.abs(n.from-e)?n.to:n.from)}return e},getKeyActions:function(t){var e=t+this.step,i=t-this.step,n=t+this.valueRange/10,s=t-this.valueRange/10;this.options.reversedControls&&(e=t-this.step,i=t+this.step,n=t-this.valueRange/10,s=t+this.valueRange/10);var o={UP:e,DOWN:i,LEFT:i,RIGHT:e,PAGEUP:n,PAGEDOWN:s,HOME:this.options.reversedControls?this.maxValue:this.minValue,END:this.options.reversedControls?this.minValue:this.maxValue};return this.options.rightToLeft&&(o.LEFT=e,o.RIGHT=i,this.options.vertical&&(o.UP=i,o.DOWN=e)),o},onKeyboardEvent:function(t){var i=t.keyCode||t.which,n=this[this.tracking],s=this.getKeyActions(n)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[i]];if(null!=s&&""!==this.tracking){t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart());var o=this;e((function(){var t=o.roundStep(o.sanitizeValue(s));if(t=o.options.skipRestrictedRangesWithArrowKeys?o.skipRestrictedRanges(i,t):t,o.options.draggableRangeOnly){var e,n,a=o.highValue-o.lowValue;"lowValue"===o.tracking?(e=t,(n=t+a)>o.maxValue&&(e=(n=o.maxValue)-a)):(n=t,(e=t-a)<o.minValue&&(n=(e=o.minValue)+a)),o.positionTrackingBar(e,n)}else o.positionTrackingHandle(t)}))}},onDragStart:function(t,e,i){var n=this.getEventPosition(i);this.dragging={active:!0,value:this.positionToValue(n),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-n:n-this.minH.rzsp,highLimit:this.options.rightToLeft?n-this.maxH.rzsp:this.maxH.rzsp-n},this.onStart(t,e,i)},getValue:function(t,e,i,n){var s,o=this.options.rightToLeft;return s="min"===t?i?n?o?this.minValue:this.maxValue-this.dragging.difference:o?this.maxValue-this.dragging.difference:this.minValue:o?this.positionToValue(e+this.dragging.lowLimit):this.positionToValue(e-this.dragging.lowLimit):i?n?o?this.minValue+this.dragging.difference:this.maxValue:o?this.maxValue:this.minValue+this.dragging.difference:o?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(s)},onDragMove:function(t,e){this.options.disableAnimation||this.moving&&this.sliderElem.addClass("noanimate"),this.moving=!0;var i,n,s,o,a,r,l,h,u=this.getEventPosition(e);if(this.options.rightToLeft?(s=this.dragging.lowLimit,o=this.dragging.highLimit,l=this.maxH,h=this.minH):(s=this.dragging.highLimit,o=this.dragging.lowLimit,l=this.minH,h=this.maxH),a=o>=u,r=u>=this.maxPos-s,a){if(0===l.rzsp)return;i=this.getValue("min",u,!0,!1),n=this.getValue("max",u,!0,!1)}else if(r){if(h.rzsp===this.maxPos)return;n=this.getValue("max",u,!0,!0),i=this.getValue("min",u,!0,!0)}else i=this.getValue("min",u,!1),n=this.getValue("max",u,!1);this.positionTrackingBar(i,n)},positionTrackingBar:function(t,e){null!=this.options.minLimit&&t<this.options.minLimit&&(e=(t=this.options.minLimit)+this.dragging.difference),null!=this.options.maxLimit&&e>this.options.maxLimit&&(t=(e=this.options.maxLimit)-this.dragging.difference),this.lowValue=t,this.highValue=e,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(!0),this.updateHandles("lowValue",this.valueToPosition(t)),this.updateHandles("highValue",this.valueToPosition(e))},positionTrackingHandle:function(t){var e=!1;t=this.applyMinMaxLimit(t),t=this.applyRestrictedRange(t),this.range&&(this.options.pushRange?(t=this.applyPushRange(t),e=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&t>this.highValue?t=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&t<this.lowValue&&(t=this.applyMinMaxRange(this.lowValue))),t=this.applyMinMaxRange(t),"lowValue"===this.tracking&&t>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.applyModel(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),e=!0):"highValue"===this.tracking&&t<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),e=!0))),this[this.tracking]!==t&&(this[this.tracking]=t,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.valueToPosition(t)),this.updateAriaAttributes(),e=!0),e&&this.applyModel(!0)},applyMinMaxLimit:function(t){return null!=this.options.minLimit&&t<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&t>this.options.maxLimit?this.options.maxLimit:t},applyMinMaxRange:function(t){var e="lowValue"===this.tracking?this.highValue:this.lowValue,i=Math.abs(t-e);return null!=this.options.minRange&&i<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&i>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:t},applyRestrictedRange:function(t){for(var e in this.options.restrictedRange)if(null!=this.options.restrictedRange[e]&&t>this.options.restrictedRange[e].from&&t<this.options.restrictedRange[e].to){var i=(this.options.restrictedRange[e].to-this.options.restrictedRange[e].from)/2;if("lowValue"===this.tracking)return t>this.options.restrictedRange[e].from+i?this.options.restrictedRange[e].to:this.options.restrictedRange[e].from;if("highValue"===this.tracking)return t<this.options.restrictedRange[e].to-i?this.options.restrictedRange[e].from:this.options.restrictedRange[e].to}return t},applyPushRange:function(t){var e="lowValue"===this.tracking?this.highValue-t:t-this.lowValue,i=null!==this.options.minRange?this.options.minRange:this.options.step,n=this.options.maxRange;return i>e?("lowValue"===this.tracking?(this.highValue=Math.min(t+i,this.maxValue),t=this.highValue-i,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=Math.max(t-i,this.minValue),t=this.lowValue+i,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()):null!==n&&e>n&&("lowValue"===this.tracking?(this.highValue=t+n,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=t-n,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()),t},applyModel:function(t){this.internalChange=!0,this.scope.$apply(),t&&this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var t=this,e="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync((function(){t.options.onStart(t.options.id,t.scope.rzSliderModel,t.scope.rzSliderHigh,e)}))}},callOnChange:function(){if(this.options.onChange){var t=this,e="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync((function(){t.options.onChange(t.options.id,t.scope.rzSliderModel,t.scope.rzSliderHigh,e)}))}},callOnEnd:function(){if(this.options.onEnd){var t=this,e="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync((function(){t.options.onEnd(t.options.id,t.scope.rzSliderModel,t.scope.rzSliderHigh,e)}))}this.scope.$emit("slideEnded")}},r}]).directive("rzslider",["RzSlider",function(t){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(t,e){return e.rzSliderTplUrl||"rzSliderTpl.html"},link:function(e,i){e.slider=new t(e,i)}}}]);return e.run(["$templateCache",function(t){t.put("rzSliderTpl.html",'<div class=rzslider><span class="rz-bar-wrapper rz-left-out-selection"><span class=rz-bar></span></span> <span class="rz-bar-wrapper rz-right-out-selection"><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-restricted" ng-style=restrictionStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class="rz-bubble rz-model-value"></span> <span class="rz-bubble rz-model-high"></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),e.name})?n.apply(e,s):n)||(t.exports=o)}()}}]);