<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Sartini Bruno, Pasqual Valentina">
  <title>LODEDO catalogue</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="./assets/style.css">
</head>
<body>


<div class="container-fluid">
    <div class="row flex-nowrap">
        <div class="col-auto px-0">
            <div id="sidebar" class="collapse collapse-horizontal show border-end sticky-top">
                <div id="sidebar-nav" class="list-group border-0 rounded-0 text-sm-start min-vh-100">
                  <div class="position-absolute bottom-0 w-100">

                  <form method="POST">

                      <div class="accordion accordion-flush" id="accordionFlushExample">

                      {% for facet, values in facets.items() %}
                      <div class="accordion-item">
                        <h2 class="accordion-header" id="flush-{{ facet|replace(':','')|replace(' ','') }}">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse{{ facet|replace(':','')|replace(' ','') }}" aria-expanded="false" aria-controls="flush-collapse{{ facet|replace(':','')|replace(' ','') }}">
                            {{ facet }}
                          </button>
                        </h2>
                        <div id="flush-collapse{{ facet|replace(':','')|replace(' ','') }}" class="accordion-collapse collapse" aria-labelledby="flush-{{ facet|replace(':','')|replace(' ','') }}}" data-bs-parent="#accordionFlushExample">
                          <div class="accordion-body">
                            <ul class="scrollable-div p-0 m-0">
                                {% for value,info in values.items() %}
                                    <li class="list-group-item border-end-0">
                                        <label>
                                            <input type="checkbox" name={{ facet }} value={{ value }}
                                                   {% if selected_facets.get(facet) and value in selected_facets[facet] %}checked{% endif %} onclick="moveToTop(this)">
                                             {{info.label}}
                                             {% if 'class' in info%}
                                             <span class="badge badge-{{info.class|replace('https://w3id.org/icon/ontology/', '')}} text-dark">{{info.classLabel}}</span>
                                             {% endif %}
                                        </label>
                                    </li>
                                {% endfor %}
                            </ul>
                          </div>
                        </div>
                      </div>
                      {% endfor %}
                      <div class="float-end m-3">
                          <input type="submit" value="Search" class="btn btn-outline-secondary">
                          <button type="submit" value="Clear all" class="btn btn-outline-danger" name="clearAllBtn">Clear all</button>
                        </div>
                    </div>
                  </form>
                </div>
                </div>
            </div>
        </div>
        <main class="col ps-md-2 pt-2" id="catalogue">
            <a href="#" data-bs-target="#sidebar" data-bs-toggle="collapse" class="border rounded-3 p-1 text-decoration-none"><i class="bi bi-list bi-lg py-2 p-1"></i>Filters</a>
            <div class="page-header pt-3">
                <h2>One Houndred Views of Edo</h2>
            </div>
            <p class="lead">Browse the collection by their scholarly interpretations</p>
            <hr>
            <div class="row">
                  {% for card in result_cards %}
                  <div class="col-md-3">
                      <div class="card mb-4">
                        <img src="{{ card.image }}" alt="{{ card.item }}">
                          <div class="card-body">
                              <a href={{card.item|replace("https://w3id.org/lodedo/data/","artworks/") }} class="btn btn-outline-secondary">View Details</a>
                          </div>
                      </div>
                  </div>
                  {% endfor %}
            </div>
        </main>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="assets/script.js"></script>

</body>
</html>
